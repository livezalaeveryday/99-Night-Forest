local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Window
local Window = Rayfield:CreateWindow({
   Name = "‡πÑ‡∏•‡∏ü‡πå‡∏™‡∏≤‡∏£‡∏∞ ‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡πÜ v2.0",
   Icon = nil,
   LoadingTitle = "‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö Power Panel v2.0 ‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡πÑ‡∏•‡∏ü‡πå‡∏™‡∏≤‡∏£‡∏∞ ‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡πÜ",
   LoadingSubtitle = "power panel team",
   ShowText = "Rayfield",
   Theme = "DarkBlue",
   ToggleUIKeybind = "K",
   DisableRayfieldPrompts = true,
   DisableBuildWarnings = true,
   ConfigurationSaving = {
      Enabled = true,
      FolderName = nil,
      FileName = "Big Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = false,
   KeySettings = {
      Title = "‡∏£‡∏∞‡∏ö‡∏ö‡∏Ñ‡∏µ‡∏¢‡πå",
      Subtitle = "‡πÑ‡∏õ‡∏´‡∏≤‡∏ã‡∏∑‡πâ‡∏≠‡∏Ñ‡∏µ‡∏¢‡πå‡∏°‡∏≤‡πÉ‡∏™‡πà",
      Note = "No method of obtaining the key is provided",
      FileName = "Key",
      SaveKey = true,
      GrabKeyFromSite = false,
      Key = {"Hello"}
   }
})

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏£‡∏∞‡∏ö‡∏ö
local Players = game:GetService("Players")
local RS = game:GetService("RunService")
local UIS = game:GetService("UserInputService")
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local player = Players.LocalPlayer
local char = player.Character or player.CharacterAdded:Wait()
local hrp = char:WaitForChild("HumanoidRootPart")
local humanoid = char:WaitForChild("Humanoid")

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô
local flying = false
local vv, gyro
local flySpeed = 200
local superSpeed = false
local runSpeed = 32
local noclipEnabled = false
local infJumpEnabled = false

-- === ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ö‡∏¥‡∏ô ===
local function startFlying()
    if flying then return end
    flying = true
    humanoid.PlatformStand = true
    vv = Instance.new("BodyVelocity")
    vv.MaxForce = Vector3.new(1e5,1e5,1e5)
    vv.P = 1250
    vv.Velocity = Vector3.zero
    vv.Parent = hrp
    gyro = Instance.new("BodyGyro")
    gyro.MaxTorque = Vector3.new(4e5,4e5,4e5)
    gyro.P = 3000
    gyro.CFrame = hrp.CFrame
    gyro.Parent = hrp
    Rayfield:Notify({Title = "‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏¥‡∏ô‡πÄ‡∏õ‡∏¥‡∏î!", Content = "‡πÉ‡∏ä‡πâ W,A,S,D,Space,Ctrl ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°", Duration = 3, Image = 6026568198})
end

local function stopFlying()
    if not flying then return end
    flying = false
    if vv then vv:Destroy() vv=nil end
    if gyro then gyro:Destroy() gyro=nil end
    humanoid.PlatformStand = false
    Rayfield:Notify({Title = "‡πÇ‡∏´‡∏°‡∏î‡∏ö‡∏¥‡∏ô‡∏õ‡∏¥‡∏î", Content = "‡∏•‡∏á‡∏à‡∏≠‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢", Duration = 3, Image = 6026568198})
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß
local function toggleSpeed(on)
    superSpeed = on
    humanoid.WalkSpeed = superSpeed and runSpeed or 16
    Rayfield:Notify({Title = superSpeed and "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡πÄ‡∏õ‡∏¥‡∏î" or "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏¥‡∏î", Content = superSpeed and "‡∏ß‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î‡∏Ç‡∏µ‡∏î!" or "‡∏Å‡∏•‡∏±‡∏ö‡∏™‡∏π‡πà‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏õ‡∏Å‡∏ï‡∏¥", Duration = 3, Image = 6023426921})
end

-- === ‡πÅ‡∏ó‡πá‡∏ö‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ===
local MainTab = Window:CreateTab("‡πÉ‡∏ä‡πâ‡∏ö‡πà‡∏≠‡∏¢")
local UserInputService = game:GetService("UserInputService")
local godmodeToggled = false

MainTab:CreateButton({Name = "‡∏≠‡∏°‡∏ï‡∏∞",Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/godmode"))()game:GetService("StarterGui"):SetCore("SendNotification", {Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",Text = "Godmode Active",Duration = 3})end})
MainTab:CreateButton({Name = "‡∏´‡∏ô‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô",Callback = function()local char = player.Character or player.CharacterAdded:Wait()local hrp = char:WaitForChild("HumanoidRootPart")hrp.CFrame = CFrame.new(12.079488, 0, 3.2662038, 0, 0, 1, 0, 1, 0, -1, 0, 0)Rayfield:Notify({Title="‡∏ß‡∏≤‡∏õ‡∏î‡πà‡∏ß‡∏ô!", Content="‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡πâ‡∏ß", Duration=2, Image=13014647359})end})
MainTab:CreateButton({Name = "‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏ü",Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getfire"))()game:GetService("StarterGui"):SetCore("SendNotification", {Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",Text = "‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏ü‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",Duration = 3})end})
MainTab:CreateButton({Name = "‡πÄ‡∏ï‡∏¥‡∏°‡∏¢‡∏≤",Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getbandage"))()game:GetService("StarterGui"):SetCore("SendNotification", {Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",Text = "‡πÄ‡∏ï‡∏¥‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢",Duration = 3})end})
MainTab:CreateButton({Name = "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏î",Callback = function()loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getiron"))()game:GetService("StarterGui"):SetCore("SendNotification", {Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",Text = "‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏î",Duration = 3})end})
local flyToggle = MainTab:CreateToggle({Name="‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô", CurrentValue=false, Flag="FlyToggle", Callback=function(val) if val then startFlying() else stopFlying() end end})
MainTab:CreateButton({
    Name = "üî• ‡∏õ‡∏¥‡∏î‡∏´‡∏°‡∏≠‡∏Å‡∏ñ‡∏≤‡∏ß‡∏£",
    Callback = function()
        local Lighting = game:GetService("Lighting")
        
        -- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Fog ‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ (visibility 100000 studs)
        Lighting.FogEnd = 100000
        Lighting.FogStart = 0  -- ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏´‡∏°‡∏≠‡∏Å‡πÑ‡∏Å‡∏•‡∏™‡∏∏‡∏î
        
        -- ‡∏•‡∏ö Atmosphere ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ (‡∏à‡∏∞ disable fog ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
        for _, v in pairs(Lighting:GetDescendants()) do
            if v:IsA("Atmosphere") then
                v:Destroy()
            end
        end
        
        -- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ö (‡∏ñ‡∏≤‡∏ß‡∏£ 100%)
        Lighting:GetPropertyChangedSignal("FogEnd"):Connect(function()
            Lighting.FogEnd = 100000
        end)
        Lighting.DescendantAdded:Connect(function(v)
            if v:IsA("Atmosphere") then
                v:Destroy()
            end
        end)
        
        Rayfield:Notify({
            Title = "‡∏õ‡∏¥‡∏î‡∏´‡∏°‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üî•",
            Content = "‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏Å‡∏•‡∏™‡∏∏‡∏î‡∏Ç‡∏µ‡∏î ‡∏ñ‡∏≤‡∏ß‡∏£‡πÑ‡∏°‡πà‡∏Å‡∏•‡∏±‡∏ö‡∏°‡∏≤",
            Duration = 4
        })
    end
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏≠‡∏°‡∏ï‡∏∞‡πÅ‡∏ö‡∏ö Keybind (‡∏Å‡∏î Numpad1 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î Godmode)
MainTab:CreateKeybind({
    Name = "‡∏≠‡∏°‡∏ï‡∏∞ (Godmode)",
    CurrentKeybind = "KeypadOne",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad1" ‡∏Å‡πá‡πÑ‡∏î‡πâ
    HoldToInteract = false,        -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        -- ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Godmode
        loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/godmode"))()
        
        -- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Rayfield Notify (‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤)
        Rayfield:Notify({
            Title = "‡∏≠‡∏°‡∏ï‡∏∞‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô!",
            Content = "Godmode Active ‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 4,
            Image = 13014647359  -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Roblox (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        })
    end
})


MainTab:CreateKeybind({
    Name = "‡∏´‡∏ô‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô (Hotkey)",
    CurrentKeybind = "KeypadTwo",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad2" ‡∏Å‡πá‡πÑ‡∏î‡πâ
    HoldToInteract = false,        -- false = ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô, true = ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏î‡∏Ñ‡πâ‡∏≤‡∏á
    Callback = function()
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")
        hrp.CFrame = CFrame.new(12.079488, 0, 3.2662038, 0, 0, 1, 0, 1, 0, -1, 0, 0)
        Rayfield:Notify({
            Title = "‡∏´‡∏ô‡∏µ‡∏Å‡∏•‡∏±‡∏ö‡∏ö‡πâ‡∏≤‡∏ô",
            Content = "‡∏ñ‡∏∂‡∏á‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 2,
            Image = 13014647359
        })
    end
})

MainTab:CreateKeybind({
    Name = "‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏ü",
    CurrentKeybind = "KeypadThree",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad1" ‡∏Å‡πá‡πÑ‡∏î‡πâ
    HoldToInteract = false,        -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        -- ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Godmode
        loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getfire"))()

        -- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Rayfield Notify (‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤)
        Rayfield:Notify({
            Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
            Content = "‡πÄ‡∏ï‡∏¥‡∏°‡πÑ‡∏ü‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 4,
            Image = 13014647359  -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Roblox (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        })
    end
})

MainTab:CreateKeybind({
    Name = "‡πÄ‡∏ï‡∏¥‡∏°‡∏¢‡∏≤",
    CurrentKeybind = "KeypadFour",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad1" ‡∏Å‡πá‡πÑ‡∏î‡πâ
    HoldToInteract = false,        -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        -- ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Godmode
        loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getbandage"))()

        -- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Rayfield Notify (‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤)
        Rayfield:Notify({
            Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
            Content = "‡πÄ‡∏ï‡∏¥‡∏°‡∏¢‡∏≤‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 4,
            Image = 13014647359  -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Roblox (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        })
    end
})

MainTab:CreateKeybind({
    Name = "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏î",
    CurrentKeybind = "KeypadFive",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad1" ‡∏Å‡πá‡πÑ‡∏î‡πâ
    HoldToInteract = false,        -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        -- ‡πÇ‡∏´‡∏•‡∏î‡πÅ‡∏•‡∏∞‡∏£‡∏±‡∏ô‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå Godmode
        loadstring(game:HttpGet("https://raw.githubusercontent.com/livezalaeveryday/99-Night-Forest/refs/heads/main/getiron"))()

        -- ‡∏´‡∏£‡∏∑‡∏≠‡∏ñ‡πâ‡∏≤‡πÉ‡∏ä‡πâ Rayfield Notify (‡∏™‡∏ß‡∏¢‡∏Å‡∏ß‡πà‡∏≤)
        Rayfield:Notify({
            Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
            Content = "‡πÄ‡∏ï‡∏¥‡∏°‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏ö‡∏î‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 4,
            Image = 13014647359  -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô Roblox (‡∏ñ‡πâ‡∏≤‡∏°‡∏µ)
        })
    end
})


-- Toggle ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô (Flag = "FlyToggle")
local flyToggle = MainTab:CreateToggle({
    Name = "‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô",
    CurrentValue = false,
    Flag = "FlyToggle",
    Callback = function(val)
        if val then
            startFlying()
        else
            stopFlying()
        end
    end
})

-- Hotkey ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Toggle ‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô (‡∏Å‡∏î Numpad3 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î)
MainTab:CreateKeybind({
    Name = "‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô (Hotkey)",
    CurrentKeybind = "KeypadSix",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad3"
    HoldToInteract = false,          -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß Toggle
    Callback = function()
        -- Toggle ‡∏Ñ‡πà‡∏≤ FlyToggle (‡∏à‡∏≤‡∏Å false ‡πÄ‡∏õ‡πá‡∏ô true ‡∏´‡∏£‡∏∑‡∏≠ true ‡πÄ‡∏õ‡πá‡∏ô false)
        local newValue = not flyToggle.CurrentValue
        flyToggle:Set(newValue)  -- Set ‡∏Ñ‡πà‡∏≤‡πÉ‡∏´‡∏°‡πà (‡∏à‡∏∞‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Callback ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
        
        Rayfield:Notify({
            Title = "‡∏Å‡∏≤‡∏£‡∏ö‡∏¥‡∏ô",
            Content = newValue and "‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß (‡∏Å‡∏î Numpad3)" or "‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß (‡∏Å‡∏î Numpad3)",
            Duration = 2,
            Image = 13014647359
        })
    end
})

MainTab:CreateKeybind({
    Name = "‡∏õ‡∏¥‡∏î‡∏´‡∏°‡∏≠‡∏Å‡∏ñ‡∏≤‡∏ß‡∏£ (Hotkey)",
    CurrentKeybind = "KeypadSeven",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad4"
    HoldToInteract = false,         -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        local Lighting = game:GetService("Lighting")
        
        -- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ Fog ‡πÉ‡∏´‡πâ‡∏´‡∏≤‡∏¢‡πÑ‡∏õ (visibility 100000 studs)
        Lighting.FogEnd = 100000
        Lighting.FogStart = 0
        
        -- ‡∏•‡∏ö Atmosphere ‡∏ñ‡πâ‡∏≤‡∏°‡∏µ
        for _, v in pairs(Lighting:GetDescendants()) do
            if v:IsA("Atmosphere") then
                v:Destroy()
            end
        end
        
        -- ‡∏õ‡πâ‡∏≠‡∏á‡∏Å‡∏±‡∏ô‡πÄ‡∏Å‡∏°‡πÄ‡∏ã‡πá‡∏ï‡∏Ñ‡πà‡∏≤‡∏Å‡∏•‡∏±‡∏ö (‡∏ñ‡∏≤‡∏ß‡∏£)
        Lighting:GetPropertyChangedSignal("FogEnd"):Connect(function()
            Lighting.FogEnd = 100000
        end)
        Lighting.DescendantAdded:Connect(function(v)
            if v:IsA("Atmosphere") then
                v:Destroy()
            end
        end)
        
        Rayfield:Notify({
            Title = "‡∏õ‡∏¥‡∏î‡∏´‡∏°‡∏≠‡∏Å‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üî•",
            Content = "‡∏°‡∏≠‡∏á‡πÄ‡∏´‡πá‡∏ô‡πÑ‡∏Å‡∏•‡∏™‡∏∏‡∏î‡∏Ç‡∏µ‡∏î (‡∏Å‡∏î Numpad4)",
            Duration = 3,
            Image = 13014647359
        })
    end
})

-- === ‡πÅ‡∏ó‡πá‡∏ö‡∏ß‡∏≤‡∏õ + ‡∏•‡∏≤‡∏Å‡∏®‡∏û (‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡πÅ‡∏¢‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢) ===
local Players = game:GetService("Players")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Workspace = game:GetService("Workspace")
local player = Players.LocalPlayer

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÅ‡∏ó‡πá‡∏ö
local friendTab = Window:CreateTab("‡∏ß‡∏≤‡∏õ")

-- ===== Helpers =====
local function getPlayerList()
    local list = {}
    for _, p in ipairs(Players:GetPlayers()) do
        if p ~= player then
            table.insert(list, string.format("%s (%s)", p.DisplayName, p.Name))
        end
    end
    return list
end

-- ‡∏î‡∏∂‡∏á‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏ó‡∏µ‡πà‡∏•‡∏á‡∏ó‡πâ‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏î‡πâ‡∏ß‡∏¢ " Body" ‡∏à‡∏≤‡∏Å‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå Characters
local function getAllBodies()
    local folder = Workspace:FindFirstChild("Characters")
    if not folder then return {} end
    local bodies = {}
    for _, obj in ipairs(folder:GetChildren()) do
        if typeof(obj) == "Instance" and typeof(obj.Name) == "string" then
            if obj.Name:sub(-5) == " Body" then
                table.insert(bodies, obj)
            end
        end
    end
    return bodies
end

-- ‡∏´‡∏≤ BasePart ‡πÉ‡∏î‡πÜ ‡πÉ‡∏ô‡πÇ‡∏°‡πÄ‡∏î‡∏• (‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡πÑ‡∏°‡πà‡∏°‡∏µ PrimaryPart)
local function findAnyBasePart(model)
    if not model or not model:IsA("Model") then return nil end
    if model.PrimaryPart then return model.PrimaryPart end
    for _, d in ipairs(model:GetDescendants()) do
        if d:IsA("BasePart") then
            return d
        end
    end
    return nil
end

-- ===== UI: Dropdown ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÉ‡∏ä‡πâ‡πÄ‡∏â‡∏û‡∏≤‡∏∞ ‚Äú‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‚Äù) =====
local friendDropdown = friendTab:CreateDropdown({
    Name = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
    Options = getPlayerList(),
    CurrentOption = {},
    Flag = "FriendSelect"
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô (‡πÉ‡∏ä‡πâ dropdown)
friendTab:CreateButton({
    Name = "‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏´‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô",
    Callback = function()
        local selected = friendDropdown.CurrentOption[1]
        if not selected or selected == "" then
            Rayfield:Notify({Title = "Error", Content = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡πà‡∏≠‡∏ô!", Duration = 3})
            return
        end

        local friendName = selected:match("%((.-)%)") or selected
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")

        local targetPlayer = Players:FindFirstChild(friendName)
        if targetPlayer and targetPlayer.Character then
            local thrp = targetPlayer.Character:FindFirstChild("HumanoidRootPart")
            if thrp then
                hrp.CFrame = thrp.CFrame + Vector3.new(0, 3, 0)
                Rayfield:Notify({Title = "Teleport ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", Content = "‡πÑ‡∏õ‡∏´‡∏≤ "..friendName, Duration = 3})
                return
            end
        end
        Rayfield:Notify({Title = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢", Content = "‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏°‡πà‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå/‡πÑ‡∏°‡πà‡∏°‡∏µ HRP", Duration = 3})
    end
})

-- ===== ‡∏ï‡∏±‡∏ß‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡πà‡∏≤ ‡∏•‡∏≤‡∏Å‡∏®‡∏û =====
local DragOffset = 5
local DragDelay = 0.2

friendTab:CreateSlider({
    Name = "‡∏£‡∏∞‡∏¢‡∏∞‡∏´‡πà‡∏≤‡∏á‡∏•‡∏≤‡∏Å‡∏®‡∏û (studs)",
    Range = {1, 15},
    Increment = 1,
    CurrentValue = DragOffset,
    Flag = "DragOffset",
    Callback = function(val) DragOffset = val end
})

friendTab:CreateSlider({
    Name = "‡∏î‡∏µ‡πÄ‡∏•‡∏¢‡πå‡∏•‡∏≤‡∏Å (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)",
    Range = {0.05, 1},
    Increment = 0.05,
    CurrentValue = DragDelay,
    Flag = "DragDelay",
    Callback = function(val) DragDelay = val end
})

-- ===== ‡∏õ‡∏∏‡πà‡∏° ‚Äú‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‚Äù (‡πÑ‡∏°‡πà‡πÉ‡∏ä‡πâ dropdown) =====
friendTab:CreateButton({
    Name = "‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏ä‡∏∑‡πà‡∏≠)",
    Callback = function()
        -- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")

        -- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° RemoteEvents
        local remoteEvents = ReplicatedStorage:FindFirstChild("RemoteEvents")
        local startDragging = remoteEvents and remoteEvents:FindFirstChild("RequestStartDraggingItem")
        local stopDragging  = remoteEvents and remoteEvents:FindFirstChild("StopDraggingItem")

        if not (startDragging and stopDragging) then
            Rayfield:Notify({Title = "‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", Content = "‡πÑ‡∏°‡πà‡∏û‡∏ö RemoteEvent ‡∏•‡∏≤‡∏Å‡∏®‡∏û", Duration = 5})
            return
        end

        -- ‡∏´‡∏≤ ‚Äú‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‚Äù
        local bodies = getAllBodies()
        if #bodies == 0 then
            Rayfield:Notify({Title = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏®‡∏û", Content = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ï‡∏≤‡∏¢", Duration = 4})
            return
        end

        Rayfield:Notify({Title = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≤‡∏Å‡∏®‡∏û", Content = "‡∏û‡∏ö "..#bodies.." ‡∏ï‡∏±‡∏ß", Duration = 3})

        task.spawn(function()
            for _, body in ipairs(bodies) do
                -- ‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏≠‡∏≠‡∏ö‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏´‡∏≤‡∏¢‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á
                if body and body.Parent then
                    local inst = (typeof(cloneref) == "function") and cloneref(body) or body
                    startDragging:FireServer(inst)
                    task.wait(0.02)

                    -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏≤‡∏£‡πå‡∏ó‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
                    local refPart = findAnyBasePart(body)
                    if refPart then
                        -- ‡πÉ‡∏ä‡πâ PivotTo ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏≤
                        body:PivotTo(hrp.CFrame * CFrame.new(0, 0, -DragOffset))
                    end

                    task.wait(0.05)
                    stopDragging:FireServer(inst)
                    task.wait(DragDelay)
                end
            end

            Rayfield:Notify({Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", Content = "‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î "..#bodies.." ‡∏ï‡∏±‡∏ß!", Duration = 4})
        end)
    end
})

-- Hotkey ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (‡∏Å‡∏î Numpad5)
MainTab:CreateKeybind({  -- ‡∏´‡∏£‡∏∑‡∏≠ friendTab ‡∏ñ‡πâ‡∏≤‡∏≠‡∏¢‡∏≤‡∏Å‡πÉ‡∏´‡πâ‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÅ‡∏ó‡πá‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏Å‡∏±‡∏ô
    Name = "‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (Hotkey)",
    CurrentKeybind = "KeypadEight",  -- ‡∏´‡∏£‡∏∑‡∏≠ "Numpad5"
    HoldToInteract = false,         -- ‡∏Å‡∏î‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ó‡∏≥‡∏á‡∏≤‡∏ô
    Callback = function()
        -- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
        local char = player.Character or player.CharacterAdded:Wait()
        local hrp = char:WaitForChild("HumanoidRootPart")
        -- ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏° RemoteEvents
        local remoteEvents = ReplicatedStorage:FindFirstChild("RemoteEvents")
        local startDragging = remoteEvents and remoteEvents:FindFirstChild("RequestStartDraggingItem")
        local stopDragging  = remoteEvents and remoteEvents:FindFirstChild("StopDraggingItem")
        if not (startDragging and stopDragging) then
            Rayfield:Notify({Title = "‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î", Content = "‡πÑ‡∏°‡πà‡∏û‡∏ö RemoteEvent ‡∏•‡∏≤‡∏Å‡∏®‡∏û", Duration = 5})
            return
        end
        -- ‡∏´‡∏≤ "‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î"
        local bodies = getAllBodies()
        if #bodies == 0 then
            Rayfield:Notify({Title = "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏®‡∏û", Content = "‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÉ‡∏Ñ‡∏£‡∏ï‡∏≤‡∏¢", Duration = 4})
            return
        end
        Rayfield:Notify({Title = "‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏•‡∏≤‡∏Å‡∏®‡∏û", Content = "‡∏û‡∏ö "..#bodies.." ‡∏ï‡∏±‡∏ß (‡∏Å‡∏î Numpad5)", Duration = 3})
        task.spawn(function()
            for _, body in ipairs(bodies) do
                -- ‡∏Å‡∏±‡∏ô‡∏Å‡∏£‡∏ì‡∏µ‡∏≠‡∏≠‡∏ö‡πÄ‡∏à‡πá‡∏Å‡∏ï‡πå‡∏´‡∏≤‡∏¢‡∏£‡∏∞‡∏´‡∏ß‡πà‡∏≤‡∏á‡∏ó‡∏≤‡∏á
                if body and body.Parent then
                    local inst = (typeof(cloneref) == "function") and cloneref(body) or body
                    startDragging:FireServer(inst)
                    task.wait(0.02)
                    -- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏û‡∏≤‡∏£‡πå‡∏ó‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ß‡∏≤‡∏á‡πÉ‡∏´‡πâ‡πÉ‡∏Å‡∏•‡πâ‡∏ï‡∏±‡∏ß‡πÄ‡∏£‡∏≤
                    local refPart = findAnyBasePart(body)
                    if refPart then
                        -- ‡πÉ‡∏ä‡πâ PivotTo ‡πÉ‡∏´‡πâ‡∏ó‡∏±‡πâ‡∏á‡πÇ‡∏°‡πÄ‡∏î‡∏•‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏°‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏≤
                        body:PivotTo(hrp.CFrame * CFrame.new(0, 0, -DragOffset))
                    end
                    task.wait(0.05)
                    stopDragging:FireServer(inst)
                    task.wait(DragDelay)
                end
            end
            Rayfield:Notify({Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üíÄ", Content = "‡∏•‡∏≤‡∏Å‡∏®‡∏û‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î "..#bodies.." ‡∏ï‡∏±‡∏ß!", Duration = 4})
        end)
    end
})



-- === ‡πÅ‡∏ó‡πá‡∏ö‡∏ß‡∏≤‡∏õ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà ===
local tpTab = Window:CreateTab("‡∏ß‡∏≤‡∏õ‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡∏ï‡πà‡∏≤‡∏á‡πÜ")

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡πÄ‡∏Å‡πá‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏•‡∏ö‡∏ï‡∏≠‡∏ô‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
local currentButtons = {}
local locationLabel

-- ‡∏õ‡∏£‡∏∞‡∏Å‡∏≤‡∏® player ‡∏Å‡πà‡∏≠‡∏ô‡πÉ‡∏ä‡πâ
local player = game.Players.LocalPlayer

-- ‡πÄ‡∏Å‡πá‡∏ö Locations ‡πÑ‡∏ß‡πâ‡∏ô‡∏≠‡∏Å‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)
local Locations = {}

-- ‡∏ä‡∏∑‡πà‡∏≠‡∏†‡∏≤‡∏©‡∏≤‡πÑ‡∏ó‡∏¢
local thaiNames = {
    StrongHold = "‡∏õ‡∏£‡∏≤‡∏™‡∏≤‡∏ó‡πÄ‡∏û‡∏ä‡∏£",
    Fairy_House = "‡∏ö‡πâ‡∏≤‡∏ô‡∏ô‡∏≤‡∏á‡∏ü‡πâ‡∏≤", 
    Ice_Temple = "‡∏ß‡∏¥‡∏´‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á",
    Jail_Cellar1 = "‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏á‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô 1",
    Jail_Cellar2 = "‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏á‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô 2", 
    Jail_Cellar3 = "‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏á‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô 3",
    Jail_Cellar4 = "‡∏´‡πâ‡∏≠‡∏á‡∏Ç‡∏±‡∏á‡πÉ‡∏ï‡πâ‡∏î‡∏¥‡∏ô 4",
    SkillsBuilding = "‡∏≠‡∏≤‡∏Ñ‡∏≤‡∏£‡∏ù‡∏∂‡∏Å‡∏™‡∏Å‡∏¥‡∏•",
    Snow_Clothing_Shop = "‡∏£‡πâ‡∏≤‡∏ô‡πÄ‡∏™‡∏∑‡πâ‡∏≠‡∏ú‡πâ‡∏≤‡∏´‡∏¥‡∏°‡∏∞",
    ToolWorkshop = "‡πÇ‡∏£‡∏á‡∏á‡∏≤‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏°‡∏∑‡∏≠"
}

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏î‡∏∂‡∏á CFrame ‡∏à‡∏≤‡∏Å landmark
local function getCFrameFromLandmark(landmark)
    if landmark:IsA("Model") then
        if landmark.PrimaryPart then
            return landmark.PrimaryPart.CFrame
        else
            for _, part in pairs(landmark:GetChildren()) do
                if part:IsA("BasePart") then
                    return part.CFrame
                end
            end
        end
    elseif landmark:IsA("BasePart") then
        return landmark.CFrame
    end
    return nil
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà
local function refreshLocations()
    -- ‡∏•‡∏ö‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏Å‡πà‡∏≤
    for _, btn in pairs(currentButtons) do
        if btn.Remove then btn:Remove() end
    end
    currentButtons = {}

    -- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï Locations
    Locations = {}

    local folder = Workspace:FindFirstChild("Map") and Workspace.Map:FindFirstChild("Landmarks")
    
    if folder then
        for _, landmark in pairs(folder:GetChildren()) do
            local name = landmark.Name
            local cf = getCFrameFromLandmark(landmark)
            
            if cf then
                local pos = cf.Position
                local displayName = thaiNames[name] or name:gsub("_", " ")
                Locations[name] = {
                    CFrame = CFrame.new(pos.X, pos.Y + 3, pos.Z), -- +3 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÑ‡∏°‡πà‡∏ï‡∏¥‡∏î‡∏û‡∏∑‡πâ‡∏ô
                    Display = displayName
                }
            end
        end
    end
    
    -- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡πÉ‡∏´‡∏°‡πà
    for key, data in pairs(Locations) do
        local btn = tpTab:CreateButton({
            Name = "üìç " .. data.Display,
            Callback = function()
                local char = player.Character or player.CharacterAdded:Wait()
                local hrp = char:WaitForChild("HumanoidRootPart")
                hrp.CFrame = data.CFrame
                Rayfield:Notify({
                    Title = "‡∏ß‡∏≤‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à! üöÄ",
                    Content = "‡πÑ‡∏õ " .. data.Display .. " ‡πÅ‡∏•‡πâ‡∏ß",
                    Duration = 3,
                    Image = 13014647359
                })
            end
        })
        table.insert(currentButtons, btn)
    end
    
    -- ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó Label
    if locationLabel then locationLabel:Remove() end
    locationLabel = tpTab:CreateLabel("üìç ‡∏û‡∏ö‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà: " .. #Locations .. " ‡∏ó‡∏µ‡πà")
    
    Rayfield:Notify({
        Title = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
        Content = "‡∏û‡∏ö " .. #Locations .. " ‡∏™‡∏ñ‡∏≤‡∏ô‡∏ó‡∏µ‡πà",
        Duration = 4
    })
end

-- ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä
tpTab:CreateButton({
    Name = "üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î",
    Callback = refreshLocations
})

-- ‡∏£‡∏±‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å‡∏ï‡∏≠‡∏ô‡πÄ‡∏õ‡∏¥‡∏î‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå
refreshLocations()

-- ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠ (‡∏°‡∏µ‡∏ú‡∏•‡πÄ‡∏â‡∏û‡∏≤‡∏∞ dropdown ‡∏ß‡∏≤‡∏õ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ô)
friendTab:CreateButton({
    Name = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠",
    Callback = function()
        friendDropdown:Set(getPlayerList())
        Rayfield:Notify({Title = "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß", Content = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à", Duration = 3})
    end
})

-- === ‡πÅ‡∏ó‡πá‡∏ö Kill Aura ‡∏™‡∏∏‡∏î‡πÇ‡∏´‡∏î (15 ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò + Attack Speed) ===
local killAuraTab = Window:CreateTab("‡∏Ñ‡∏¥‡∏• ‡∏≠‡∏≠‡∏£‡πà‡∏≤")

-- ‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£ Kill Aura
local killAuraEnabled = false
local killAuraRange = 150
local killAuraCount = 0
local killAuraHitDelay = 0  -- Delay ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô (‡∏¢‡∏¥‡πà‡∏á‡∏ô‡πâ‡∏≠‡∏¢ = ‡∏ï‡∏µ‡πÄ‡∏£‡πá‡∏ß)
local Characters = Workspace:WaitForChild("Characters")

-- ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î (15 ‡∏ä‡∏¥‡πâ‡∏ô)
local allWeapons = {
    "Scythe","Spear","Infernal Sword", "Morningstar", "Katana", "Laser Sword", "Ice Sword",
    "Trident", "Poison Spear", "Infernal Sword", "Cultist King Mace",
    "Obsidiron Hammer", "Scythe", "Vampire Scythe", "Old Axe", "Strong Axe", "Good Axe"
}

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏´‡∏≤ Weapon (Priority)
local function getWeapon()
    if not player:FindFirstChild("Inventory") then return nil end
    
    local priorityWeapons = {"Scythe","Infernal Sword","Strong Axe","Good Axe", "Vampire Scythe", "Laser Sword", "Infernal Sword", "Ice Sword", "Poison Spear"}
    local normalWeapons = {"Katana", "Spear", "Trident", "Scythe", "Morningstar", "Old Axe", "Cultist King Mace", "Obsidiron Hammer"}
    
    for _, weaponName in ipairs(priorityWeapons) do
        local weapon = player.Inventory:FindFirstChild(weaponName)
        if weapon then return weapon end
    end
    
    for _, weaponName in ipairs(normalWeapons) do
        local weapon = player.Inventory:FindFirstChild(weaponName)
        if weapon then return weapon end
    end
    
    return nil
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏™‡πà‡∏á‡∏î‡∏≤‡πÄ‡∏°‡∏à
local function damage(target, tool)
    if not tool then return end
    local remoteEvents = ReplicatedStorage:FindFirstChild("RemoteEvents")
    if not remoteEvents then return end
    local evt = remoteEvents:FindFirstChild("ToolDamageObject")
    if not evt then return end
    
    local hrp = target:FindFirstChild("HumanoidRootPart")
    local cf = hrp and hrp.CFrame or CFrame.new()
    
    evt:InvokeServer(target, tool, tostring(killAuraCount).."_7367831688", cf)
end

-- Toggle Kill Aura
killAuraTab:CreateToggle({
    Name = "üî• ‡πÄ‡∏õ‡∏¥‡∏î/‡∏õ‡∏¥‡∏î Kill Aura",
    CurrentValue = false,
    Flag = "KillAuraToggle",
    Callback = function(bool)
        killAuraEnabled = bool
        Rayfield:Notify({
            Title = "Kill Aura",
            Content = bool and "‚öîÔ∏è ‡πÄ‡∏õ‡∏¥‡∏î - ‡∏ï‡∏µ‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î!" or "‚ùå ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß",
            Duration = 3,
            Image = 6026568198
        })
    end,
})

-- **üöÄ SLIDER ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ (‡πÉ‡∏´‡∏°‡πà!)**
killAuraTab:CreateSlider({
    Name = "‚ö° ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ (‡∏ï‡πà‡∏≥=‡πÄ‡∏£‡πá‡∏ß)",
    Range = {0, 0.5},
    Increment = 0.1,
    CurrentValue = 0,
    Flag = "HitSpeedSlider",
    Callback = function(val)
        killAuraHitDelay = val
        Rayfield:Notify({
            Title = "‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ",
            Content = "Delay: " .. val .. "s (‡∏¢‡∏¥‡πà‡∏á‡∏ï‡πà‡∏≥‡∏¢‡∏¥‡πà‡∏á‡πÄ‡∏£‡πá‡∏ß)",
            Duration = 2
        })
    end,
})

-- Dropdown ‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò
local weaponModes = {"Auto (Priority)", "Good Axe Only", "Vampire Scythe Only", "Laser Sword Only", "All Weapons (Random)"}
local selectedMode = "Auto (Priority)"
killAuraTab:CreateDropdown({
    Name = "‡πÇ‡∏´‡∏°‡∏î‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò",
    Options = weaponModes,
    CurrentOption = {selectedMode},
    Flag = "WeaponMode",
    Callback = function(option)
        selectedMode = option[1]
    end,
})

-- Slider ‡∏£‡∏∞‡∏¢‡∏∞
killAuraTab:CreateSlider({
    Name = "‡∏£‡∏∞‡∏¢‡∏∞ Kill Aura (Studs)",
    Range = {50, 100},
    Increment = 5,
    CurrentValue = 100,
    Flag = "KillAuraRange",
    Callback = function(val)
        killAuraRange = val
    end,
})

-- Label ‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥
local statusLabel = killAuraTab:CreateLabel("Kills: 0 | Range: 150 | Speed: 0.03s | Weapon: Ready")

-- Reset Stats
killAuraTab:CreateButton({
    Name = "üîÑ Reset Stats",
    Callback = function()
        killAuraCount = 0
        statusLabel:Set("Kills: 0 | Range: " .. killAuraRange .. " | Speed: " .. killAuraHitDelay .. "s | Weapon: Ready")
    end,
})

-- ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Inventory
killAuraTab:CreateButton({
    Name = "üìã ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö Inventory (15 ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò)",
    Callback = function()
        local inv = player:FindFirstChild("Inventory")
        if not inv then return Rayfield:Notify({Title="‚ùå Error", Content="‡πÑ‡∏°‡πà‡∏û‡∏ö Inventory", Duration=3}) end
        
        local found = 0
        for _, wName in ipairs(allWeapons) do
            if inv:FindFirstChild(wName) then found += 1 end
        end
        
        Rayfield:Notify({
            Title = "Inventory Scan",
            Content = "‡∏û‡∏ö " .. found .. "/15 ‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò",
            Duration = 4
        })
    end,
})

-- === Kill Aura Loop (‡∏õ‡∏£‡∏±‡∏ö Speed ‡πÅ‡∏•‡πâ‡∏ß) ===
task.spawn(function()
    while task.wait() do
        if not killAuraEnabled then 
            statusLabel:Set("Kills: " .. killAuraCount .. " | Range: " .. killAuraRange .. " | OFF")
            task.wait(0.5)  -- ‡∏•‡∏î load ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î
            continue 
        end
        
        local weapon
        if selectedMode == "Auto (Priority)" then
            weapon = getWeapon()
        elseif selectedMode == "All Weapons (Random)" then
            local available = {}
            for _, wName in ipairs(allWeapons) do
                local w = player.Inventory:FindFirstChild(wName)
                if w then table.insert(available, w) end
            end
            if #available > 0 then weapon = available[math.random(1, #available)] end
        else
            local targetName = selectedMode:match("Only") and selectedMode:gsub(" Only", "")
            weapon = player.Inventory:FindFirstChild(targetName)
        end
        
        local myChar = player.Character
        if not myChar or not myChar:FindFirstChild("HumanoidRootPart") or not weapon then 
            statusLabel:Set("Kills: " .. killAuraCount .. " | ‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò")
            continue 
        end
        
        local myHRP = myChar.HumanoidRootPart
        statusLabel:Set("Kills: " .. killAuraCount .. " | Range: " .. killAuraRange .. " | Speed: " .. killAuraHitDelay .. "s | " .. weapon.Name)
        
        -- Loop ‡∏ï‡∏µ (‡πÉ‡∏ä‡πâ delay ‡πÉ‡∏´‡∏°‡πà)
        for _, v in ipairs(Characters:GetChildren()) do
            if v:IsA("Model") and v ~= myChar and v:FindFirstChild("HumanoidRootPart") and not v.Name:find(" Body") then
                local dist = (v.HumanoidRootPart.Position - myHRP.Position).Magnitude
                if dist <= killAuraRange then
                    killAuraCount += 1
                    damage(v, weapon)
                    statusLabel:Set("Kills: " .. killAuraCount .. " | ‚öîÔ∏è ATTACKING")
                    task.wait(killAuraHitDelay)  -- <<<< ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà! ‡∏õ‡∏£‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ
                end
            end
        end
    end
end)

-- Auto Equip
killAuraTab:CreateToggle({
    Name = "üîß Auto Equip",
    CurrentValue = false,
    Flag = "AutoEquip",
    Callback = function(bool)
        task.spawn(function()
            while bool do
                task.wait(0.5)
                local weapon = getWeapon()
                if weapon and player.Character then
                    local humanoid = player.Character:FindFirstChild("Humanoid")
                    if humanoid then humanoid:EquipTool(weapon) end
                end
            end
        end)
    end,
})

Rayfield:Notify({
    Title = "‚úÖ ‡πÄ‡∏û‡∏¥‡πà‡∏° Attack Speed!",
    Content = "‡∏õ‡∏£‡∏±‡∏ö '‚ö° ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ' ‡πÉ‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ (0.01=‡πÄ‡∏£‡πá‡∏ß‡∏™‡∏∏‡∏î)",
    Duration = 5,
    Image = 6026568198
})

-- [‡πÉ‡∏™‡πà‡∏ï‡∏£‡∏á‡∏™‡πà‡∏ß‡∏ô‡∏ö‡∏ô‡∏™‡∏∏‡∏î‡∏Ç‡∏≠‡∏á‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå]
local Players = game:GetService("Players")
local Workspace = game:GetService("Workspace")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local LocalPlayer = Players.LocalPlayer

-- Chop Aura Variables
local chopAuraToggle = false
local auraRadius = 100          -- ‡∏Ñ‡πà‡∏≤‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô
local chopDelay = 0.3           -- ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ (‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ)
local currentAmount = 0

local toolsDamageIDs = {
    ["Old Axe"] = "3_7367831688",
    ["Good Axe"] = "112_7367831688",
    ["Strong Axe"] = "116_7367831688"
}

local function getAxeTool()
    for toolName, _ in pairs(toolsDamageIDs) do
        local tool = LocalPlayer:FindFirstChild("Inventory") and LocalPlayer.Inventory:FindFirstChild(toolName)
        if tool then
            return tool
        end
    end
    return nil
end

local function equipTool(tool)
    if tool then
        pcall(function()
            ReplicatedStorage.RemoteEvents.EquipItemHandle:FireServer("FireAllClients", tool)
        end)
    end
end

local function unequipTool(tool)
    if tool then
        pcall(function()
            ReplicatedStorage.RemoteEvents.UnequipItemHandle:FireServer("FireAllClients", tool)
        end)
    end
end

-- Main Chop Aura Loop
local function chopAuraLoop()
    while chopAuraToggle do
        task.wait(chopDelay)
        local character = LocalPlayer.Character or LocalPlayer.CharacterAdded:Wait()
        local hrp = character:FindFirstChild("HumanoidRootPart")
        if not hrp then continue end

        local tool = getAxeTool()
        if not tool then 
            task.wait(1)
            continue 
        end

        equipTool(tool)

        local trees = {}
        local map = Workspace:FindFirstChild("Map")
        if not map then continue end

        -- ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ï‡πâ‡∏ô‡πÑ‡∏°‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        for _, folder in pairs({map:FindFirstChild("Foliage"), map:FindFirstChild("Landmarks")}) do
            if folder then
                for _, obj in ipairs(folder:GetChildren()) do
                    if obj.Name == "Small Tree" and obj:IsA("Model") then
                        table.insert(trees, obj)
                    end
                end
            end
        end

        for _, tree in ipairs(trees) do
            if not chopAuraToggle then break end
            local trunk = tree:FindFirstChild("Trunk")
            if trunk and trunk:IsA("BasePart") then
                local distance = (trunk.Position - hrp.Position).Magnitude
                if distance <= auraRadius then
                    currentAmount = currentAmount + 1
                    task.spawn(function()
                        while chopAuraToggle and tree and tree.Parent do
                            pcall(function()
                                ReplicatedStorage.RemoteEvents.ToolDamageObject:InvokeServer(
                                    tree,
                                    tool,
                                    tostring(currentAmount) .. "_7367831688",
                                    CFrame.new(-2.962610244751, 4.5547881126404, -75.950843811035,
                                        0.89621275663376, -1.3894891459643e-08, 0.44362446665764,
                                        -7.994568895775e-10, 1, 3.293635941759e-08,
                                        -0.44362446665764, -2.9872644802253e-08, 0.89621275663376)
                                )
                            end)
                            task.wait(chopDelay)
                        end
                    end)
                end
            end
        end
    end

    -- ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏õ‡∏¥‡∏î Aura ‡πÉ‡∏´‡πâ‡∏õ‡∏•‡∏î‡∏≠‡∏≤‡∏ß‡∏∏‡∏ò
    local tool = getAxeTool()
    if tool then unequipTool(tool) end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Tab ‡πÉ‡∏´‡∏°‡πà‡πÉ‡∏ô Rayfield
local ChopTab = Window:CreateTab("‡∏ï‡∏±‡∏î‡πÑ‡∏°‡πâ") -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡∏Ç‡∏ß‡∏≤‡∏ô

local Toggle = ChopTab:CreateToggle({
    Name = "Enable Chop Aura",
    CurrentValue = false,
    Flag = "ChopAuraToggle",
    Callback = function(Value)
        chopAuraToggle = Value
        if Value then
            task.spawn(chopAuraLoop)
            Notify("Chop Aura ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß!", 3)
        else
            Notify("Chop Aura ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß", 2)
        end
    end,
})

local RadiusSlider = ChopTab:CreateSlider({
    Name = "‡∏£‡∏∞‡∏¢‡∏∞‡∏ï‡∏µ (Studs)",
    Range = {10, 500},
    Increment = 10,
    Suffix = " studs",
    CurrentValue = auraRadius,
    Flag = "ChopRadius",
    Callback = function(Value)
        auraRadius = Value
    end,
})

local SpeedSlider = ChopTab:CreateSlider({
    Name = "‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏£‡πá‡∏ß‡∏ï‡∏µ (‡πÄ‡∏£‡πá‡∏ß = ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á‡πÅ‡∏ö‡∏ô)",
    Range = {0.1, 1},
    Increment = 0.05,
    Suffix = "s",
    CurrentValue = chopDelay,
    Flag = "ChopSpeed",
    Callback = function(Value)
        chopDelay = Value
    end,
})

-- ==============================
-- STRONGHOLD AUTO TELEPORT (‡πÅ‡∏Å‡πâ‡∏õ‡∏±‡∏ç‡∏´‡∏≤‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏£‡πå‡∏õ + ‡∏Å‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏£‡∏±‡∏ß)
-- ==============================
local StrongholdTab = Window:CreateTab("‡∏õ‡∏£‡∏≤‡∏™‡∏≤‡∏ó‡πÄ‡∏û‡∏ä‡∏£")

local LevelColors = {
    [1] = Color3.fromRGB(195, 255, 0),
    [2] = Color3.fromRGB(255, 238, 0),
    [3] = Color3.fromRGB(255, 157, 0),
    [4] = Color3.fromRGB(255, 64, 0),
    [5] = Color3.fromRGB(255, 0, 0)
}

local LastStronghold = nil
local LastUpdateTime = 0
local UPDATE_INTERVAL = 0.3  -- ‡πÄ‡∏ä‡πá‡∏Ñ‡∏ñ‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô
local CountdownEnabled = true
local AutoTeleportEnabled = true
local LastTeleportKey = nil   -- ‚úÖ ‡∏Å‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ã‡πâ‡∏≥‡πÉ‡∏ô‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏µ‡∏¢‡∏ß

local StatusLabel = StrongholdTab:CreateLabel("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Stronghold...")
local InfoLabel = StrongholdTab:CreateLabel("‡∏£‡∏∞‡∏î‡∏±‡∏ö: -\n‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞: ‡∏£‡∏≠‡πÄ‡∏õ‡∏¥‡∏î\n‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡πÄ‡∏ß‡∏•‡∏≤: --:--")

-- Toggles
StrongholdTab:CreateToggle({
    Name = "‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô Stronghold Countdown",
    CurrentValue = true,
    Callback = function(val)
        CountdownEnabled = val
    end
})

StrongholdTab:CreateToggle({
    Name = "üöÄ AUTO TELEPORT (‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ó‡∏±‡∏ô‡∏ó‡∏µ)",
    CurrentValue = true,
    Callback = function(val)
        AutoTeleportEnabled = val
    end
})

-- ‡∏õ‡∏∏‡πà‡∏°‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ (‡∏™‡∏≥‡∏Ñ‡∏±‡∏ç‡∏°‡∏≤‡∏Å!)
StrongholdTab:CreateButton({
    Name = "üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ (‡∏Å‡∏î‡∏ï‡∏≠‡∏ô‡πÄ‡∏à‡∏≠ SH)",
    Callback = function()
        ManualTeleport()
    end
})

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏ñ‡∏µ‡∏¢‡∏£ 100%
function ManualTeleport()
    if not LastStronghold then
        Rayfield:Notify({Title = "‚ùå", Content = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≠ Stronghold", Duration = 3})
        return
    end

    print("üî• ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ß‡∏≤‡∏£‡πå‡∏õ Stronghold:", LastStronghold.Name)

    -- ‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢‡∏´‡∏•‡∏≤‡∏¢‡∏ß‡∏¥‡∏ò‡∏µ
    local targetPos
    local func = LastStronghold:FindFirstChild("Functional")

    -- ‡∏ß‡∏¥‡∏ò‡∏µ 1: PrimaryPart
    if LastStronghold.PrimaryPart then
        targetPos = LastStronghold.PrimaryPart.CFrame + Vector3.new(0, 15, 10)
    end

    -- ‡∏ß‡∏¥‡∏ò‡∏µ 2: Functional.Position (‡∏™‡∏≥‡∏£‡∏≠‡∏á)
    if func and not targetPos then
        targetPos = CFrame.new(func.Position + Vector3.new(0, 20, 15))
    end

    -- ‡∏ß‡∏¥‡∏ò‡∏µ 3: ‡∏´‡∏≤ Part ‡πÉ‡∏´‡∏ç‡πà‡∏™‡∏∏‡∏î
    if not targetPos then
        for _, part in pairs(LastStronghold:GetChildren()) do
            if part:IsA("BasePart") and part.Size.Magnitude > 10 then
                targetPos = part.CFrame + Vector3.new(0, 15, 10)
                break
            end
        end
    end

    if not targetPos then
        Rayfield:Notify({Title = "‚ùå", Content = "‡∏´‡∏≤‡∏ï‡∏≥‡πÅ‡∏´‡∏ô‡πà‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ", Duration = 3})
        return
    end

    -- ‡∏£‡∏≠ Character ‡∏û‡∏£‡πâ‡∏≠‡∏°
    local player = game.Players.LocalPlayer
    local char = player.Character or player.CharacterAdded:Wait()
    local root = char:WaitForChild("HumanoidRootPart", 5)

    if root then
        -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÅ‡∏ö‡∏ö‡πÄ‡∏ô‡∏µ‡∏¢‡∏ô
        root.CFrame = targetPos
        Rayfield:Notify({
            Title = "üöÄ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!",
            Content = "‡πÑ‡∏õ Stronghold ‡πÅ‡∏•‡πâ‡∏ß! üéâ",
            Duration = 4
        })
        print("‚úÖ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à:", targetPos.Position)
    else
        Rayfield:Notify({Title = "‚ùå", Content = "Character ‡πÑ‡∏°‡πà‡∏û‡∏£‡πâ‡∏≠‡∏°", Duration = 3})
    end
end

-- ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏´‡∏•‡∏±‡∏Å
local function UpdateStronghold()
    if not CountdownEnabled then return end

    local now = tick()
    if now - LastUpdateTime < UPDATE_INTERVAL then return end
    LastUpdateTime = now

    local sh = nil

    -- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ Stronghold
    if LastStronghold and LastStronghold.Parent and LastStronghold:FindFirstChild("Functional") then
        sh = LastStronghold
    else
        for _, obj in workspace:GetDescendants() do
            if obj:IsA("Model") and obj:FindFirstChild("Functional") and obj:HasTag("Stronghold") and obj.Name ~= "AlienMothership" then
                sh = obj
                LastStronghold = sh
                break
            end
        end
    end

    if not sh then
        StatusLabel:Set("‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö Stronghold")
        InfoLabel:Set("‡∏£‡∏≠ Stronghold ‡πÄ‡∏Å‡∏¥‡∏î‡πÉ‡∏´‡∏°‡πà...")
        return
    end

    local func = sh.Functional
    local openTime = func:GetAttribute("OpenTime")
    local level = func:GetAttribute("Level") or 1

    if not openTime then return end

    local timeLeft = openTime - workspace:GetServerTimeNow()
    local timeStr, statusText

    -- ‚úÖ ‡πÉ‡∏ä‡πâ key ‡∏Å‡∏±‡∏ô‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏£‡∏≠‡∏ö‡πÄ‡∏î‡∏¥‡∏°
    local teleportKey = tostring(sh:GetDebugId()) .. "|" .. tostring(openTime)

    -- üî• AUTO TELEPORT ‡πÅ‡∏Ñ‡πà‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡∏ï‡πà‡∏≠‡∏£‡∏≠‡∏ö
    if timeLeft <= 0 and AutoTeleportEnabled then
        statusText = "‚úÖ ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏•‡πâ‡∏ß!"

        if LastTeleportKey ~= teleportKey then
            -- ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏Ñ‡∏¢‡∏ß‡∏≤‡∏£‡πå‡∏õ‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ -> ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÄ‡∏•‡∏¢
            LastTeleportKey = teleportKey
            timeStr = "üöÄ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏≤‡∏£‡πå‡∏õ..."

            task.spawn(function()
                ManualTeleport()
            end)
        else
            -- ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÑ‡∏õ‡πÅ‡∏•‡πâ‡∏ß‡∏£‡∏≠‡∏ö‡∏ô‡∏µ‡πâ
            timeStr = "‚úÖ ‡∏ß‡∏≤‡∏£‡πå‡∏õ‡πÅ‡∏•‡πâ‡∏ß ‡∏£‡∏≠‡∏£‡∏≠‡∏ö‡∏ñ‡∏±‡∏î‡πÑ‡∏õ"
        end
    else
        statusText = "‚è≥ ‡∏£‡∏≠‡πÄ‡∏õ‡∏¥‡∏î"
        local mins = math.floor(timeLeft / 60)
        local secs = math.floor(timeLeft % 60)
        if timeLeft <= 30 then
            timeStr = string.format("%d", secs)
        else
            timeStr = string.format("%d:%02d", mins, secs)
        end
    end

    -- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï UI
    StatusLabel:Set("Stronghold Lv." .. level .. " | AutoTP: " .. (AutoTeleportEnabled and "‚úÖ" or "‚ùå"))
    InfoLabel:Set(string.format("‡∏£‡∏∞‡∏î‡∏±‡∏ö: %d\n%s\n‡πÄ‡∏´‡∏•‡∏∑‡∏≠: %s", level, statusText, timeStr))
    InfoLabel.TextColor3 = LevelColors[level] or Color3.fromRGB(255, 0, 0)
end

-- ‡∏•‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å
game:GetService("RunService").Heartbeat:Connect(function()
    pcall(UpdateStronghold)
end)

UpdateStronghold()

Rayfield:Notify({
    Title = "üî• Stronghold Auto TP ‡∏û‡∏£‡πâ‡∏≠‡∏°!",
    Content = "‡πÄ‡∏à‡∏≠ SH ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î 'üß™ ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏ß‡∏≤‡∏£‡πå‡∏õ' ‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡∏Å‡πà‡∏≠‡∏ô‡πÑ‡∏î‡πâ",
    Duration = 6
})

-- === Drag Items (EZ) + Quantity (Simple UI) ===
local cloneref = cloneref or function(x) return x end

-- Services & refs
local Players          = cloneref(game:GetService("Players"))
local ReplicatedStorage = cloneref(game:GetService("ReplicatedStorage"))
local Workspace        = cloneref(game:GetService("Workspace"))
local RunService       = game:GetService("RunService")

local player    = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local hrp       = character:WaitForChild("HumanoidRootPart")

local itemsFolder  = Workspace:WaitForChild("Items")
local remoteEvents = ReplicatedStorage:WaitForChild("RemoteEvents")
local startDragging = remoteEvents:WaitForChild("RequestStartDraggingItem")
local stopDragging  = remoteEvents:WaitForChild("StopDraggingItem")

-- ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏ö‡∏∑‡πâ‡∏≠‡∏á‡∏ï‡πâ‡∏ô
local offsetDistance = 2       -- ‡∏ß‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÑ‡∏ß‡πâ‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏Å‡∏µ‡πà‡∏™‡∏ï‡∏π
local perItemDelay   = 0       -- ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏á‡πà‡∏≤‡∏¢: ‡∏•‡∏≤‡∏Å‡∏£‡∏±‡∏ß ‡πÜ ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÉ‡∏ô UI

-- helper: Rayfield dropdown ‡∏ö‡∏≤‡∏á‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏Ñ‡∏∑‡∏ô table
local function asString(opt)
    if type(opt) == "table" then return tostring(opt[1]) end
    return tostring(opt)
end

-- ‡∏£‡∏ß‡∏ö‡∏£‡∏ß‡∏°‡∏ä‡∏∑‡πà‡∏≠‡∏ó‡∏∏‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏° ‡πÄ‡∏£‡∏µ‡∏¢‡∏á A‚ÜíZ
local function getSortedItemNames()
    local seen = {}
    for _, it in ipairs(itemsFolder:GetChildren()) do
        if it and it.Name then
            seen[it.Name] = true
        end
    end

    local names = {}
    for n in pairs(seen) do
        table.insert(names, n)
    end

    table.sort(names, function(a, b)
        return string.lower(a) < string.lower(b)
    end)

    if #names == 0 then
        names = {"(‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ô Items)"}
    end

    return names
end

-- ‡∏´‡∏≤ ‚Äú‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏¥‡πâ‡∏ô‚Äù ‡∏ï‡∏≤‡∏°‡∏ä‡∏∑‡πà‡∏≠ (‡∏´‡∏¢‡∏¥‡∏ö‡πÑ‡∏î‡πâ‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î maxCount)
local function findItemsByName(name, maxCount)
    local list = {}
    for _, it in ipairs(itemsFolder:GetChildren()) do
        if it.Name == name then
            table.insert(list, it)
            if #list >= maxCount then
                break
            end
        end
    end
    return list
end

-- ‡∏•‡∏≤‡∏Å‡∏Ç‡∏≠‡∏á 1 ‡∏ä‡∏¥‡πâ‡∏ô‡∏°‡∏≤‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏£‡∏≤
local function dragOne(item)
    if not (item and item.Parent) then return false end

    local cloned = cloneref(item)

    startDragging:FireServer(cloned)
    RunService.Heartbeat:Wait() -- ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞‡∏•‡∏≤‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ï‡∏ó‡∏±‡∏ô

    local pos = (hrp.CFrame * CFrame.new(0, 0, -offsetDistance)).Position

    task.spawn(function()
        if cloned:IsA("BasePart") then
            cloned.CFrame = CFrame.new(pos)
        elseif cloned:IsA("Model") and cloned.PrimaryPart then
            cloned:SetPrimaryPartCFrame(CFrame.new(pos))
        end
    end)

    task.wait(0.05)
    stopDragging:FireServer(cloned)
    return true
end

-- ===== UI =====
local tab = Window:CreateTab("‡∏î‡∏∂‡∏á‡∏Ç‡∏≠‡∏á‡πÄ‡∏Ç‡πâ‡∏≤‡∏ï‡∏±‡∏ß", 0)

-- 1) Dropdown ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°
local options  = getSortedItemNames()
local selected = asString(options[1])
if selected == "(‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ô Items)" then
    selected = nil
end

local dropdown = tab:CreateDropdown({
    Name = "‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏° (‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÄ‡∏£‡∏µ‡∏¢‡∏á A‚ÜíZ)",
    Options = options,
    CurrentOption = options[1],
    Multiple = false,
    Callback = function(opt)
        selected = asString(opt)
        if selected == "(‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ô Items)" then
            selected = nil
        end
    end
})

-- 2) ‡∏õ‡∏∏‡πà‡∏°‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠
tab:CreateButton({
    Name = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠",
    Callback = function()
        options = getSortedItemNames()

        -- ‡πÉ‡∏ä‡πâ Refresh ‡πÉ‡∏´‡πâ‡∏ñ‡∏π‡∏Å‡∏Å‡∏±‡∏ö Rayfield
        dropdown:Refresh(options, true)

        selected = asString(options[1])
        if selected == "(‡πÑ‡∏°‡πà‡∏°‡∏µ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÉ‡∏ô Items)" then
            selected = nil
        else
            dropdown:Set(options[1])
        end

        Rayfield:Notify({
            Title   = "‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡πÅ‡∏•‡πâ‡∏ß",
            Content = "‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",
            Duration = 2
        })
    end
})

-- 3) ‡∏£‡∏∞‡∏ö‡∏∏‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡πÉ‡∏ä‡πâ Slider ‡∏á‡πà‡∏≤‡∏¢ ‡πÜ)
local currentQty = 10
tab:CreateSlider({
    Name = "‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏î‡∏∂‡∏á",
    Range = {1, 500},       -- ‡πÄ‡∏û‡∏î‡∏≤‡∏ô 500 ‡πÉ‡∏´‡πâ‡∏î‡∏π‡πÑ‡∏°‡πà‡πÇ‡∏´‡∏î‡πÄ‡∏Å‡∏¥‡∏ô (‡∏õ‡∏£‡∏±‡∏ö‡πÑ‡∏î‡πâ)
    Increment = 1,
    CurrentValue = currentQty,
    Callback = function(v)
        currentQty = v
    end
})

-- 4) ‡∏õ‡∏∏‡πà‡∏°‡∏î‡∏∂‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô
tab:CreateButton({
    Name = "‡∏î‡∏∂‡∏á‡∏ï‡∏≤‡∏°‡∏à‡∏≥‡∏ô‡∏ß‡∏ô",
    Callback = function()
        if not selected then
            Rayfield:Notify({
                Title = "‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡∏≠‡∏á",
                Content = "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏Å‡πà‡∏≠‡∏ô",
                Duration = 2
            })
            return
        end

        local want    = currentQty or 1
        local targets = findItemsByName(selected, want)

        if #targets == 0 then
            Rayfield:Notify({
                Title = "‡πÑ‡∏°‡πà‡∏û‡∏ö",
                Content = "‡πÑ‡∏°‡πà‡∏°‡∏µ " .. selected .. " ‡πÉ‡∏´‡πâ‡∏î‡∏∂‡∏á",
                Duration = 2
            })
            return
        end

        local dragged = 0
        for _, it in ipairs(targets) do
            if dragOne(it) then
                dragged += 1
            end
            if perItemDelay > 0 then
                task.wait(perItemDelay)
            end
        end

        Rayfield:Notify({
            Title = "‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à",
            Content = "‡∏î‡∏∂‡∏á " .. selected .. " ‡∏°‡∏≤‡πÅ‡∏•‡πâ‡∏ß " .. tostring(dragged) .. " ‡∏ä‡∏¥‡πâ‡∏ô",
            Duration = 3
        })
    end
})

-- ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï HRP ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô
player.CharacterAdded:Connect(function(char)
    character = char
    hrp = character:WaitForChild("HumanoidRootPart")
end)

-- === ‡πÅ‡∏ó‡πá‡∏ö‡πÉ‡∏´‡∏°‡πà: ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏™‡∏£‡∏¥‡∏° ===
local miscTab = Window:CreateTab("‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏™‡∏£‡∏¥‡∏°")

-- 2) Anti Idle / Anti AFK (‡∏Å‡∏±‡∏ô‡πÄ‡∏ï‡∏∞‡∏≠‡∏≠‡∏Å‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏¢‡∏∑‡∏ô‡∏ô‡∏¥‡πà‡∏á‡∏ô‡∏≤‡∏ô)
local antiIdleEnabled = false
local antiIdleConnection

local function startAntiIdle()
    if antiIdleEnabled then return end
    antiIdleEnabled = true
    
    antiIdleConnection = game:GetService("RunService").Heartbeat:Connect(function()
        if antiIdleEnabled then
            -- ‡∏™‡πà‡∏á‡∏™‡∏±‡∏ç‡∏ç‡∏≤‡∏ì‡∏ß‡πà‡∏≤‡πÄ‡∏£‡∏≤‡∏¢‡∏±‡∏á active ‡∏≠‡∏¢‡∏π‡πà (‡∏ß‡∏¥‡∏ò‡∏µ‡∏ó‡∏µ‡πà Roblox ‡πÉ‡∏ä‡πâ‡∏ï‡∏£‡∏ß‡∏à AFK)
            pcall(function()
                game:GetService("VirtualUser"):CaptureController()
                game:GetService("VirtualUser"):ClickButton2(Vector2.new())
            end)
        end
    end)
end

local function stopAntiIdle()
    antiIdleEnabled = false
    if antiIdleConnection then
        antiIdleConnection:Disconnect()
        antiIdleConnection = nil
    end
end

miscTab:CreateToggle({
    Name = "‚è∞ Anti Idle / Anti AFK",
    CurrentValue = false,
    Callback = function(val)
        if val then
            startAntiIdle()
            Rayfield:Notify({Title = "‡πÄ‡∏õ‡∏¥‡∏î Anti-AFK", Content = "‡πÑ‡∏°‡πà‡πÄ‡∏ï‡∏∞‡∏≠‡∏≠‡∏Å‡πÅ‡∏ô‡πà‡∏ô‡∏≠‡∏ô ‚è∞", Duration = 4})
        else
            stopAntiIdle()
            Rayfield:Notify({Title = "‡∏õ‡∏¥‡∏î Anti-AFK", Content = "‡∏£‡∏∞‡∏ß‡∏±‡∏á‡πÇ‡∏î‡∏ô‡πÄ‡∏ï‡∏∞‡∏ô‡∏∞", Duration = 3})
        end
    end
})

-- ‡πÅ‡∏à‡πâ‡∏á‡∏ï‡∏≠‡∏ô‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏™‡∏£‡πá‡∏à
Rayfield:Notify({
    Title = "‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÉ‡∏´‡∏°‡πà!",
    Content = "‡πÑ‡∏õ‡∏ó‡∏µ‡πà‡πÅ‡∏ó‡πá‡∏ö \"‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡πÄ‡∏™‡∏£‡∏¥‡∏°\" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏ä‡πâ Instant Prompt ‡∏Å‡∏±‡∏ö Anti-AFK",
    Duration = 6,
    Image = 6026568198
})

-- === ‡πÅ‡∏ó‡πá‡∏ö‡∏™‡∏Ñ‡∏£‡∏¥‡∏õ‡∏ï‡πå‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏° ===
local extraTab = Window:CreateTab("Script ‡∏Ñ‡πà‡∏≤‡∏¢‡∏≠‡∏∑‡πà‡∏ô‡πÜ")
extraTab:CreateButton({Name = "Script SomTank", Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/MQPS7/99-Night-in-the-Forset/refs/heads/main/99v5"))() end})
extraTab:CreateButton({Name = "Script Foxname Hub", Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/caomod2077/Script/refs/heads/main/FoxnameHub.lua"))() end})
extraTab:CreateButton({Name = "Infinity Yild", Callback = function() loadstring(game:HttpGet("https://raw.githubusercontent.com/EdgeIY/infiniteyield/master/source"))() end})

-- === ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï ===
local creditTab2 = Window:CreateTab("‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï")
creditTab2:CreateLabel("owner by livezala")
creditTab2:CreateLabel("original script by dion_ktl")
creditTab2:CreateLabel("‡∏û‡∏±‡∏í‡∏ô‡∏≤‡∏ï‡πà‡∏≠‡πÇ‡∏î‡∏¢ thomas (‡πÇ‡∏ó‡∏°‡∏±‡∏™)")
creditTab2:CreateLabel("‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ï 31/10/2025")
creditTab2:CreateLabel("Discord: dSyCsRpU62")

-- === ‡∏•‡∏π‡∏õ‡∏´‡∏•‡∏±‡∏Å ===
RS.RenderStepped:Connect(function()
    if flying and vv and gyro and hrp and humanoid then
        local cam = workspace.CurrentCamera
        if not cam then return end
        local forward = Vector3.new(cam.CFrame.LookVector.X, 0, cam.CFrame.LookVector.Z).Unit
        local right = Vector3.new(cam.CFrame.RightVector.X, 0, cam.CFrame.RightVector.Z).Unit
        local moveVec = Vector3.zero
        if UIS:IsKeyDown(Enum.KeyCode.W) then moveVec += forward end
        if UIS:IsKeyDown(Enum.KeyCode.S) then moveVec -= forward end
        if UIS:IsKeyDown(Enum.KeyCode.A) then moveVec -= right end
        if UIS:IsKeyDown(Enum.KeyCode.D) then moveVec += right end
        if UIS:IsKeyDown(Enum.KeyCode.Space) then moveVec += Vector3.new(0,1,0) end
        if UIS:IsKeyDown(Enum.KeyCode.LeftShift) then moveVec += Vector3.new(0,-1,0) end
        if moveVec.Magnitude > 0 then vv.Velocity = moveVec.Unit * flySpeed else vv.Velocity = Vector3.zero end
        if moveVec.X ~= 0 or moveVec.Z ~= 0 then
            gyro.CFrame = CFrame.new(hrp.Position, hrp.Position + Vector3.new(moveVec.X, 0, moveVec.Z))
        end
    end
end)

RS.Stepped:Connect(function()
    if noclipEnabled and char then
        for _,part in pairs(char:GetDescendants()) do
            if part:IsA("BasePart") then part.CanCollide = false end
        end
    end
end)

UIS.JumpRequest:Connect(function()
    if infJumpEnabled and humanoid then
        humanoid:ChangeState(Enum.HumanoidStateType.Jumping)
    end
end)

-- ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡πÄ‡∏°‡∏∑‡πà‡∏≠ respawn
player.CharacterAdded:Connect(function(c)
    char = c
    hrp = c:WaitForChild("HumanoidRootPart")
    humanoid = c:WaitForChild("Humanoid")
    stopFlying()
    toggleSpeed(false)
    noclipEnabled = false
    infJumpEnabled = false
    Rayfield:LoadConfiguration()
end)

Rayfield:Notify({Title="‡πÇ‡∏´‡∏•‡∏î‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à!", Content="‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢ ‡πÑ‡∏•‡∏ü‡πå‡∏™‡∏≤‡∏£‡∏∞ ‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡πÜ!", Duration=4, Image=6026568198})
