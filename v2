-- ‚úÖ CLEAN BUILD: Window + Mobile Floating Toggle + Safe Tabs (No cheats)

-- ‡∏ñ‡πâ‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πâ Rayfield ‡πÉ‡∏ô‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏ï‡∏±‡∏ß‡πÄ‡∏≠‡∏á ‡πÉ‡∏´‡πâ‡πÉ‡∏™‡πà lib ‡∏ó‡∏µ‡πà‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏≤‡∏°‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Ç‡∏≠‡∏á‡∏û‡∏µ‡πà
local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á Window
local Window = Rayfield:CreateWindow({
    Name = "üåÄ ‡πÑ‡∏•‡∏ü‡πå‡∏™‡∏≤‡∏£‡∏∞ ‡πÑ‡∏õ‡∏ß‡∏±‡∏ô‡πÜ v1.5 (CLEAN UI)",
    LoadingTitle = "LifeSura Control Panel (Safe Edition)",
    LoadingSubtitle = "UI ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì",
    ConfigurationSaving = { Enabled = true, FolderName = "LifeSuraConfig", FileName = "SuraConfig" },
    Discord = { Enabled = false, Invite = "dSyCsRpU62", RememberJoins = true },
    KeySystem = false
})

-- =============== ‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢ Toggle ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡∏ã‡πà‡∏≠‡∏ô/‡πÇ‡∏ä‡∏ß‡πå ‡πÄ‡∏°‡∏ô‡∏π‡∏ô‡∏µ‡πâ) ===============
do
    local Players = game:GetService("Players")
    local CoreGui = game:GetService("CoreGui")
    local UIS = game:GetService("UserInputService")
    local LP = Players.LocalPlayer

    local function findThisGui()
        -- ‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤ ScreenGui ‡∏Ç‡∏≠‡∏á Rayfield ‡∏ó‡∏µ‡πà‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á‡∏ô‡∏µ‡πâ
        local candidates = {}
        for _,g in ipairs((CoreGui:GetChildren())) do
            if g:IsA("ScreenGui") and tostring(g.Name):lower():find("rayfield") then table.insert(candidates, g) end
        end
        if LP.PlayerGui then
            for _,g in ipairs(LP.PlayerGui:GetChildren()) do
                if g:IsA("ScreenGui") and tostring(g.Name):lower():find("rayfield") then table.insert(candidates, g) end
            end
        end
        return candidates[#candidates] -- ‡∏ï‡∏±‡∏ß‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏ó‡∏µ‡πà‡∏ô‡πà‡∏≤‡∏à‡∏∞‡πÉ‡∏ä‡πà
    end

    local root = Instance.new("ScreenGui")
    root.Name = "LifeSura_FloatToggle"
    root.IgnoreGuiInset = true
    root.ResetOnSpawn = false
    root.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    root.DisplayOrder = 99999
    root.Parent = LP:WaitForChild("PlayerGui")

    local btn = Instance.new("ImageButton")
    btn.Name = "DockButton"
    btn.Size = UDim2.fromOffset(56, 56)
    btn.Position = UDim2.new(1, -72, 1, -96)
    btn.BackgroundTransparency = 0.15
    btn.BackgroundColor3 = Color3.fromRGB(18,18,18)
    btn.Image = "rbxassetid://6031280882"
    btn.AutoButtonColor = true
    btn.ZIndex = 10
    btn.Parent = root
    Instance.new("UICorner", btn).CornerRadius = UDim.new(0, 999)
    local stroke = Instance.new("UIStroke", btn)
    stroke.Thickness = 1
    stroke.Color = Color3.fromRGB(255,255,255)
    stroke.Transparency = 0.3

    local targetVisible = true
    local function setVisible(on)
        local g = findThisGui()
        if g then g.Enabled = on end
        targetVisible = on
    end

    -- ‡∏£‡∏≠‡πÉ‡∏´‡πâ Rayfield ‡πÇ‡∏ú‡∏•‡πà‡∏°‡∏≤‡∏Å‡πà‡∏≠‡∏ô‡∏Ñ‡πà‡∏≠‡∏¢‡∏ã‡∏¥‡∏á‡∏Ñ‡πå‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
    task.spawn(function()
        local t0 = time()
        while not findThisGui() and time() - t0 < 8 do task.wait(0.2) end
        setVisible(true)
    end)

    -- ‡∏•‡∏≤‡∏Å + ‡πÅ‡∏ï‡∏∞‡∏™‡∏±‡πâ‡∏ô toggle
    local UISvc = game:GetService("UserInputService")
    local dragging, dragStart, startPos, moved, tDown = false, nil, nil, false, 0
    local function clamp(pos)
        local cam = workspace.CurrentCamera
        if not cam then return pos end
        local vs = cam.ViewportSize
        local x = math.clamp(pos.X.Offset, 8, vs.X - btn.AbsoluteSize.X - 8)
        local y = math.clamp(pos.Y.Offset, 8, vs.Y - btn.AbsoluteSize.Y - 8)
        return UDim2.fromOffset(x, y)
    end
    btn.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging, moved, tDown = true, false, tick()
            dragStart, startPos = input.Position, btn.Position
            input.Changed:Connect(function()
                if input.UserInputState == Enum.UserInputState.End then
                    dragging = false
                    if not moved and (tick() - tDown) < 0.25 then
                        setVisible(not targetVisible)
                    end
                end
            end)
        end
    end)
    UISvc.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            local d = input.Position - dragStart
            if d.Magnitude > 6 then moved = true end
            btn.Position = clamp(UDim2.new(startPos.X.Scale, startPos.X.Offset + d.X, startPos.Y.Scale, startPos.Y.Offset + d.Y))
        end
    end)
    -- ‡∏Ñ‡∏µ‡∏¢‡πå‡∏•‡∏±‡∏î‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
    UISvc.InputBegan:Connect(function(input,gpe)
        if gpe then return end
        if input.KeyCode == Enum.KeyCode.F8 then setVisible(not targetVisible) end
    end)
end
-- ==================== ‡∏à‡∏ö‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢ ====================

-- ========= ‡πÅ‡∏ó‡πá‡∏ö‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ (‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á): ‡πÑ‡∏°‡πà‡πÅ‡∏Å‡πâ‡∏ü‡∏¥‡∏™‡∏¥‡∏Å‡∏™‡πå/‡πÑ‡∏°‡πà‡πÄ‡∏à‡∏≤‡∏∞‡∏£‡∏∞‡∏ö‡∏ö =========
local MainTab = Window:CreateTab("üéõÔ∏è ‡πÄ‡∏°‡∏ô‡∏π", 6026568198)

MainTab:CreateParagraph({Title="‡∏¢‡∏¥‡∏ô‡∏î‡∏µ‡∏ï‡πâ‡∏≠‡∏ô‡∏£‡∏±‡∏ö!", Content="‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠ Control Panel ‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢ ‡πÉ‡∏ä‡πâ‡∏Å‡∏±‡∏ö‡πÇ‡∏õ‡∏£‡πÄ‡∏à‡∏Å‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á‡πÑ‡∏î‡πâ‡πÄ‡∏ï‡πá‡∏°‡∏ó‡∏µ‡πà"})

-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏° UI (‡∏™‡∏•‡∏±‡∏ö‡∏™‡∏µ‡∏´‡∏±‡∏ß‡∏Ç‡πâ‡∏≠/‡∏†‡∏≤‡∏û‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡πÉ‡∏ô‡πÅ‡∏≠‡∏õ‡∏Ç‡∏≠‡∏á‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á)
local themeDark = true
MainTab:CreateToggle({
    Name="üåì ‡∏™‡∏•‡∏±‡∏ö‡∏ò‡∏µ‡∏° UI (‡πÄ‡∏î‡πÇ‡∏°‡πà)",
    CurrentValue=true,
    Callback=function(on)
        themeDark = on
        Rayfield:Notify({Title="‡∏ò‡∏µ‡∏°", Content= on and "‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î" or "‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏ß‡πà‡∏≤‡∏á", Duration=2, Image=6026568198})
        -- TODO: ‡πÉ‡∏™‡πà‡πÇ‡∏Ñ‡πâ‡∏î‡∏õ‡∏£‡∏±‡∏ö‡∏ò‡∏µ‡∏°‡∏Ç‡∏≠‡∏á ‚ÄúUI ‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á‚Äù ‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà ‡πÄ‡∏ä‡πà‡∏ô ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏™‡∏µ Frame/TextLabel
    end
})

-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏õ‡∏£‡∏±‡∏ö FOV ‡∏Å‡∏•‡πâ‡∏≠‡∏á (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)
local cam = workspace.CurrentCamera
MainTab:CreateSlider({
    Name="üé• ‡∏°‡∏∏‡∏°‡∏°‡∏≠‡∏á‡∏Å‡∏•‡πâ‡∏≠‡∏á (FOV)",
    Range={50,100},
    Increment=1,
    Suffix="¬∞",
    CurrentValue=70,
    Callback=function(v)
        if cam then cam.FieldOfView = v end
    end
})

-- ‡∏ï‡∏±‡∏ß‡∏≠‡∏¢‡πà‡∏≤‡∏á‡πÄ‡∏°‡∏ô‡∏π‡πÄ‡∏™‡∏µ‡∏¢‡∏á/‡πÄ‡∏û‡∏•‡∏á‡∏õ‡∏£‡∏∞‡∏Å‡∏≠‡∏ö‡∏Ç‡∏≠‡∏á‡πÄ‡∏Å‡∏°‡∏Ñ‡∏∏‡∏ì‡πÄ‡∏≠‡∏á (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢)
local SoundService = game:GetService("SoundService")
MainTab:CreateSlider({
    Name="üîä ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏î‡∏±‡∏á‡πÄ‡∏™‡∏µ‡∏¢‡∏á‡∏£‡∏ß‡∏°",
    Range={0,100},
    Increment=1,
    Suffix="%",
    CurrentValue=100,
    Callback=function(v)
        SoundService.Volume = v/100
    end
})

-- ====== ‡πÅ‡∏ó‡πá‡∏ö ‚Äú‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏≠‡∏ô‡πÑ‡∏•‡∏ô‡πå‚Äù (‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏â‡∏¢ ‡πÜ ‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏£‡πå‡∏õ/‡πÑ‡∏°‡πà‡πÇ‡∏Å‡∏á) ======
local PlayersTab = Window:CreateTab("üë• ‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô", 6026568198)
local PlayersService = game:GetService("Players")
local listLabel = PlayersTab:CreateLabel("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠...")

local function refreshList()
    local names = {}
    for _,p in ipairs(PlayersService:GetPlayers()) do
        table.insert(names, string.format("‚Ä¢ %s (%s)", p.DisplayName, p.Name))
    end
    listLabel:Set(table.concat(names, "\n"))
end
refreshList()
PlayersService.PlayerAdded:Connect(refreshList)
PlayersService.PlayerRemoving:Connect(refreshList)

PlayersTab:CreateButton({
    Name="üîÑ ‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠",
    Callback=refreshList
})

-- ====== ‡πÄ‡∏Ñ‡∏≤‡∏ó‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢) ======
local newYearTab = Window:CreateTab("üéâ ‡πÄ‡∏Ñ‡∏≤‡∏ó‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå‡∏õ‡∏µ‡πÉ‡∏´‡∏°‡πà", 6034979821)
local countdownLabel = newYearTab:CreateLabel("‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡πÄ‡∏Ñ‡∏≤‡∏ó‡πå‡∏î‡∏≤‡∏ß‡∏ô‡πå...")
local RS = game:GetService("RunService")
local targetTime = os.time({year=2026, month=1, day=1, hour=0, min=0, sec=0})

local connection
connection = RS.RenderStepped:Connect(function()
    local now = os.time()
    local diff = targetTime - now
    if diff <= 0 then
        countdownLabel:Set("üéâ Happy New Year! üéâ")
        if connection then connection:Disconnect() end
        return
    end
    local days = math.floor(diff / 86400)
    local hours = math.floor((diff % 86400) / 3600)
    local minutes = math.floor((diff % 3600) / 60)
    local seconds = diff % 60
    countdownLabel:Set(string.format("%02d:%02d:%02d:%02d", days, hours, minutes, seconds))
end)

-- ====== ‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï/‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï (‡∏õ‡∏•‡∏≠‡∏î‡∏†‡∏±‡∏¢) ======
local logTab = Window:CreateTab("üìú ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï",6034989579)
logTab:CreateLabel("version 1.5.0-clean (+) ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠, FOV/Volume, ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô (‡πÑ‡∏°‡πà‡∏ß‡∏≤‡∏£‡πå‡∏õ)")

local creditTab = Window:CreateTab("üìú ‡πÄ‡∏Ñ‡∏£‡∏î‡∏¥‡∏ï",6034989579)
creditTab:CreateLabel("owner by DJ MAN (LifeSura)")
creditTab:CreateLabel("UI build by ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡πÇ‡∏≠‡∏ô‡πÑ‡∏ß (safe edition)")
creditTab:CreateLabel("‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï 27/10/2025 09:00 PM")
