-- =============== üì± MOBILE FLOATING BUTTON ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÇ‡∏ä‡∏ß‡πå/‡∏ã‡πà‡∏≠‡∏ô RAYFIELD ===============
local CoreGui = game:GetService("CoreGui")
local PlayerGui = player:FindFirstChildOfClass("PlayerGui") or player:WaitForChild("PlayerGui")

-- ‡∏´‡∏≤ ScreenGui ‡∏Ç‡∏≠‡∏á Rayfield ‡πÑ‡∏°‡πà‡∏ß‡πà‡∏≤‡∏°‡∏±‡∏ô‡∏à‡∏∞‡∏ä‡∏∑‡πà‡∏≠‡∏≠‡∏∞‡πÑ‡∏£
local function findRayfieldGui()
    local function scan(container)
        for _, gui in ipairs(container:GetChildren()) do
            if gui:IsA("ScreenGui") then
                local n = tostring(gui.Name):lower()
                if n:find("rayfield") or n:find("sirius") then
                    return gui
                end
            end
        end
    end
    return scan(CoreGui) or scan(PlayerGui)
end

-- ‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏™‡∏î‡∏á/‡∏ã‡πà‡∏≠‡∏ô Rayfield
local function toggleRayfield()
    local r = findRayfieldGui()
    if r and r:IsA("ScreenGui") then
        r.Enabled = not r.Enabled
        Rayfield:Notify({
            Title = r.Enabled and "üì≤ ‡πÄ‡∏õ‡∏¥‡∏î‡πÅ‡∏ú‡∏á Rayfield" or "üì≤ ‡∏ã‡πà‡∏≠‡∏ô‡πÅ‡∏ú‡∏á Rayfield",
            Content = r.Enabled and "‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏•‡∏∏‡∏¢!" or "‡∏ã‡πà‡∏≠‡∏ô‡πÑ‡∏ß‡πâ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡πâ‡∏≤",
            Duration = 2,
            Image = 6031225812
        })
    else
        Rayfield:Notify({
            Title = "‚ùå ‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏ï‡πà‡∏≤‡∏á Rayfield",
            Content = "‡∏£‡∏≠ 1‚Äì2 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ‡πÅ‡∏•‡πâ‡∏ß‡∏Å‡∏î‡πÉ‡∏´‡∏°‡πà ‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠‡∏≠‡∏µ‡∏Å‡∏ó‡∏µ",
            Duration = 3,
            Image = 6026568198
        })
    end
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠ (‡∏°‡∏µ‡∏ó‡∏±‡∏ä)
local function createMobileDock()
    if not UIS.TouchEnabled then return end
    if CoreGui:FindFirstChild("LifeSura_MobileDock") then return end

    local sg = Instance.new("ScreenGui")
    sg.Name = "LifeSura_MobileDock"
    sg.ResetOnSpawn = false
    sg.IgnoreGuiInset = true
    sg.Parent = CoreGui

    local btn = Instance.new("ImageButton")
    btn.Name = "FAB"
    btn.Size = UDim2.fromOffset(56, 56)
    btn.Position = UDim2.new(1, -70, 1, -120) -- ‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á
    btn.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
    btn.BackgroundTransparency = 0.1
    btn.AutoButtonColor = true
    btn.Image = "rbxassetid://6035009995" -- ‡πÑ‡∏≠‡∏Ñ‡∏≠‡∏ô‡πÄ‡∏°‡∏ô‡∏π‡∏à‡∏∏‡∏î‡πÜ
    btn.Parent = sg

    local uic = Instance.new("UICorner", btn)
    uic.CornerRadius = UDim.new(1, 0)

    local stroke = Instance.new("UIStroke", btn)
    stroke.Thickness = 1.5
    stroke.Color = Color3.fromRGB(255, 255, 255)
    stroke.Transparency = 0.25

    -- ‡∏•‡∏≤‡∏Å‡∏õ‡∏∏‡πà‡∏°‡πÑ‡∏î‡πâ
    local dragging = false
    local dragStart, startPos
    btn.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = btn.Position
        end
    end)
    btn.InputChanged:Connect(function(input)
        if dragging and input.UserInputType == Enum.UserInputType.Touch then
            local delta = input.Position - dragStart
            btn.Position = UDim2.new(
                startPos.X.Scale, startPos.X.Offset + delta.X,
                startPos.Y.Scale, startPos.Y.Offset + delta.Y
            )
        end
    end)
    UIS.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.Touch then dragging = false end
    end)

    -- ‡∏Å‡∏î‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏•‡∏±‡∏ö‡πÅ‡∏ú‡∏á Rayfield
    btn.MouseButton1Click:Connect(toggleRayfield)

    -- ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡πÅ‡∏£‡∏Å
    Rayfield:Notify({
        Title = "üì± Mobile Dock ‡∏û‡∏£‡πâ‡∏≠‡∏°‡πÉ‡∏ä‡πâ",
        Content = "‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏Å‡∏•‡∏°‡∏°‡∏∏‡∏°‡∏Ç‡∏ß‡∏≤‡∏•‡πà‡∏≤‡∏á ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ä‡∏ß‡πå/‡∏ã‡πà‡∏≠‡∏ô Rayfield",
        Duration = 3,
        Image = 6031225812
    })

    -- ‡∏£‡∏≠ Rayfield ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß‡∏Ñ‡πà‡∏≠‡∏¢‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏´‡πâ‡πÄ‡∏≠‡∏á‡∏£‡∏≠‡∏ö‡πÅ‡∏£‡∏Å (‡∏Å‡∏±‡∏ô‡πÄ‡∏Ñ‡∏™‡πÇ‡∏´‡∏•‡∏î‡∏ä‡πâ‡∏≤)
    task.delay(1.0, function()
        local r = findRayfieldGui()
        if r and not r.Enabled then
            r.Enabled = true
        end
    end)
end

-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏õ‡∏∏‡πà‡∏°‡∏•‡∏≠‡∏¢‡∏ï‡∏≠‡∏ô‡∏ô‡∏µ‡πâ ‡πÅ‡∏•‡∏∞‡∏ï‡∏≠‡∏ô‡∏£‡∏µ‡∏™‡∏õ‡∏≠‡∏ô
createMobileDock()
player.CharacterAdded:Connect(function()
    task.delay(1, createMobileDock)
end)

-- ‡πÄ‡∏ú‡∏∑‡πà‡∏≠‡∏Ñ‡∏ô‡πÄ‡∏•‡πà‡∏ô‡∏Ñ‡∏µ‡∏¢‡πå‡∏ö‡∏≠‡∏£‡πå‡∏î: ‡∏Å‡∏î RightControl ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÇ‡∏ä‡∏ß‡πå/‡∏ã‡πà‡∏≠‡∏ô Rayfield
local keyToggle = Enum.KeyCode.RightControl
UIS.InputBegan:Connect(function(input, gpe)
    if gpe then return end
    if input.KeyCode == keyToggle then
        toggleRayfield()
    end
end)
-- ======================================================================
