-- ‡πÄ‡∏™‡∏µ‡πà‡∏¢‡πÇ‡∏≠‡∏ô‡πÑ‡∏ß‡πÇ‡∏´‡∏°‡∏î: ‡∏•‡∏≤‡∏Å‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏° ‡∏•‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î
local Players = cloneref(game:GetService("Players"))
local ReplicatedStorage = cloneref(game:GetService("ReplicatedStorage"))
local Workspace = cloneref(game:GetService("Workspace"))

-- ====== ‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ ======
-- ‡πÉ‡∏™‡πà‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡πÑ‡∏î‡πâ‡∏´‡∏•‡∏≤‡∏¢‡∏ä‡∏¥‡πâ‡∏ô ‡πÄ‡∏ä‡πà‡∏ô {"Carrot", "Potato", "Onion"}
local itemNames = {"Log", "Bolt", "Sheet Metal", "UFO Junk", "UFO Component", "Broken Fan", "Old Radio", "Broken Microwave", "Tyre", "Metal Chair", "Old Car Engine", "Washing Machine", "Cultist Experiment", "Cultist Prototype", "UFO Scrap"}
local delayBetweenItems = 0.5 -- ‡πÄ‡∏£‡πá‡∏ß‡∏à‡∏µ‡πä‡∏î

-- ====== ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢ (‡πÄ‡∏û‡∏¥‡πà‡∏° Y +15 ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÉ‡∏´‡πâ‡∏•‡∏≤‡∏Å‡∏•‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ) ======
local TARGET_POSITION = Vector3.new(20.953277587890625, 1.200000286102295 + 100, -5.237123012542725)

-- ====== ‡πÄ‡∏ï‡∏£‡∏µ‡∏¢‡∏°‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£ ======
local player = Players.LocalPlayer
local character = player.Character or player.CharacterAdded:Wait()
local humanoidRootPart = character:WaitForChild("HumanoidRootPart")

-- ====== ‡∏≠‡πâ‡∏≤‡∏á‡∏≠‡∏¥‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå/‡∏£‡∏µ‡πÇ‡∏°‡∏ó ======
local itemsFolder = Workspace:WaitForChild("Items")
local remoteEvents = ReplicatedStorage:WaitForChild("RemoteEvents")
local startDragging = remoteEvents:WaitForChild("RequestStartDraggingItem")
local stopDragging = remoteEvents:WaitForChild("StopDraggingItem")

-- ====== ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏ã‡πá‡∏ï‡∏ä‡∏∑‡πà‡∏≠‡πÑ‡∏≠‡πÄ‡∏ó‡∏° (‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå) ======
local nameSet = {}
for _, n in ipairs(itemNames) do
    nameSet[string.lower(n)] = true
end

local function isTargetItem(name: string): boolean
    return nameSet[string.lower(name)] == true
end

-- ====== ‡∏ü‡∏±‡∏á‡∏Å‡πå‡∏ä‡∏±‡∏ô‡∏•‡∏≤‡∏Å ======
local function dragItemToPosition(itemToDrag, position)
    local clonedItem = cloneref(itemToDrag)
    startDragging:FireServer(clonedItem)
    
    task.spawn(function()
        if clonedItem:IsA("BasePart") then
            clonedItem.CFrame = CFrame.new(position)
        elseif clonedItem:IsA("Model") and clonedItem.PrimaryPart then
            clonedItem:SetPrimaryPartCFrame(CFrame.new(position))
        end
    end)
    
    task.wait(0.05)
    stopDragging:FireServer(clonedItem)
end

-- ====== ‡∏•‡∏≤‡∏Å‡∏ó‡∏∏‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏•‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡∏ó‡∏µ‡πà‡∏Å‡∏≥‡∏´‡∏ô‡∏î ======
local function dragAllItemsToTarget()
    print("üéØ ‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏õ‡πâ‡∏≤‡∏´‡∏°‡∏≤‡∏¢:", TARGET_POSITION)
    
    local children = itemsFolder:GetChildren()
    local itemsToDrag = {}
    
    for _, item in ipairs(children) do
        if isTargetItem(item.Name) then
            table.insert(itemsToDrag, item)
        end
    end
    
    print("üîç ‡∏û‡∏ö " .. #itemsToDrag .. " ‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà‡∏à‡∏∞‡∏•‡∏≤‡∏Å")
    
    for i, item in ipairs(itemsToDrag) do
        print("‡∏•‡∏≤‡∏Å‡πÑ‡∏≠‡πÄ‡∏ó‡∏°‡∏ó‡∏µ‡πà " .. i .. ": " .. item.Name)
        dragItemToPosition(item, TARGET_POSITION)
        task.wait(delayBetweenItems)
    end
    
    print("üéâ ‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß! ‡∏•‡∏≤‡∏Å‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î " .. #itemsToDrag .. " ‡∏ä‡∏¥‡πâ‡∏ô‡∏•‡∏á‡∏û‡∏¥‡∏Å‡∏±‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢!")
end

-- ‡∏£‡∏±‡∏ô‡πÄ‡∏•‡∏¢!
dragAllItemsToTarget()
